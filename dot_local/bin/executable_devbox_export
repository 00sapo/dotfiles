#!/bin/sh

cat <<EOF >"$HOME"/.local/bin/"$1"
this_path=\$(realpath "\$0")
if command -v devbox >/dev/null; then
	devbox global run $1 \$@
else
	for c in \$(which -a "$1"); do
    if test "\$(realpath \$c)" != "\$this_path"; then
			\$c \$@
      exit
		fi
	done
  echo "Command not found: $1"
fi
EOF

chmod +x "$HOME"/.local/bin/"$1"
