# set-option -g default-shell /bin/fish
set-option -sg escape-time 10                          
set -ag terminal-overrides ",xterm-256color:RGB"
set-option -g mouse on
set-option -g base-index 1                # window index will start with 1
set-window-option -g pane-base-index 1    # pane index will start with 1
set-option -g renumber-windows on
bind-key -r < swap-window -t - \; previous-window
bind-key -r > swap-window -t + \; next-window
set-option -g set-clipboard on

# notify on silence
set-hook -g alert-silence "run-shell 'notify-send \"Activity ended in window #{window_index} (#{window_name})\"'"
set-hook -g alert-activity "run-shell 'notify-send \"Activity started in window #{window_index} (#{window_name})\"'"

# common operations
bind v split-window -h -c "#{pane_current_path}"
bind s split-window -c "#{pane_current_path}"
bind c new-window -c "#{pane_current_path}"
bind e last-window
bind d select-window -l \; send-keys Enter Enter Enter Enter '!!' Enter
bind R source-file ~/.tmux.conf; display-message "Reloaded config"
bind J command-prompt -p "join pane from:"  "join-pane -s '%%'"
bind w choose-session
bind K kill-session
bind N new-session
bind C-M 'setw monitor-silence 10; display-message "Silence monitor ON"'
bind C-M-M 'setw monitor-silence 0; display-message "Silence monitor OFF"'

# Use plugins
# set -g status-right '#{cpu_bg_color} CPU: #{cpu_percentage} | #{ram_bg_color} RAM: #{ram_percentage} | #{gpu_bg_color} GPU: #{gpu_percentage} | %a %h-%d %H:%M '

# #####################################################################################
# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'aserowy/tmux.nvim'
set -g @plugin 'erikw/tmux-powerline'


# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
